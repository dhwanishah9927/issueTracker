<!-- to show all the issues -->
<% if(project.issues.length >= 1) { %>
  <div class="w-100 my-5 d-flex justify-content-around mx-auto">
    <div class=""col">
      <!-- Button trigger modal -->
      <button
        type="button"
        class="btn btn-primary btn-lg"
        style="border: 2px solid  rgb(58, 209, 232);"
        data-bs-toggle="modal"
        data-bs-target="#showallIssue"
      >
        Show All Issues
      </button>
      <!-- Modal -->
      <div
        class="modal fade"
        id="showallIssue"
        tabindex="-1"
        aria-labelledby="showAllIssueLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header bg-dark text-light">
              <h5 class="modal-title" id="showAllIssueLabel">All Issues</h5>
              <button
                type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <% project.issues.forEach(issue => { %>
              <div class="card w-100 mb-3" style="width: 15rem;">
                <div class="card-body">
                  <h4 class="card-title">Title : <%= issue.title %></h4>
                  
                  <h6 class="card-subtitle mb-2 text-muted">
                    Description : <%= issue.description %>
                  </h6>
                  <h6 class="card-text">Labels : <%= issue.labels %></h6>
                  <h6 class="card-text">Author : <%= issue.author %></h6>
                </div>
              </div>
              <% }) %>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>



                      <!-- search issues  modal -->




    <div class="col d-flex justify-content-end">
      <!-- Button trigger modal -->
      <button
        type="button"
        class="btn btn-primary btn-lg"
        style="border: 2px solid  rgb(58, 209, 232);"
        data-bs-toggle="modal"
        data-bs-target="#searchmodal"
      >
        Search Issues
      </button>
  
      <!-- Modal -->
      <div
        class="modal fade"
        id="searchmodal"
        tabindex="-1"
        aria-labelledby="searchmodalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header bg-dark text-light">
              <h5 class="modal-title" id="searchmodalLabel">Search Issues</h5>
              <button
                type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <form
              class="p-3 border border-primary border-3"
              action="/"
              method="get"
              id="formforsearchissue"
            >
              <!-- Search options -->
              <div class="row mb-3" style="margin: auto;">
                <label for="titlelabel" class="col-sm-4 col-form-label"
                  >Title</label
                >
                <div class="col-sm-8">
                  <input
                    type="text"
                    name="titletitle"
                    placeholder="Search by title.."
                    class="form-control"
                    id="titlelabel"
                  />
                </div>
              </div>
              <div class="row mb-3" style="margin: auto;">
                <label for="desclabel" class="col-sm-4 col-form-label"
                  >Description</label
                >
                <div class="col-sm-8">
                  <input
                    type="text"
                    name="descripdescrip"
                    placeholder="Search by description..."
                    class="form-control"
                    id="authorlabel"
                  />
                </div>
              </div>
  
              <div class="modal-footer">
                <button
                  type="submit"
                  data-bs-dismiss="modal"
                  class="btn btn-primary"
                >
                  Search Issues
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>


                           <!-- filter issues  modal -->



    <div >
      <!-- Button trigger modal -->
      <button
        type="button"
        class="btn btn-primary btn-lg"
        style="border: 2px solid rgb(58, 209, 232);"
        data-bs-toggle="modal"
        data-bs-target="#filtermodal"
      >
        Filter Issues
      </button>
  
      <!-- Modal -->
      <div
        class="modal fade"
        id="filtermodal"
        tabindex="-1"
        aria-labelledby="filtermodalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header bg-dark text-light">
              <h5 class="modal-title" id="filtermodalLabel">Filter Issues</h5>
              <button
                type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
  
            <form
              class="p-3 border border-primary border-3"
              action="/"
              method="get"
              id="formforfilterissue"
            >
              <!-- Filter options -->
              <div class="row mb-3" style="margin: auto;">
                <label for="labels" class="col-sm-4 col-form-label"
                  >Search by Label</label
                >
                
                <div class="col-sm-8">
                  
                  <% project.labels.forEach(label => { %>
                  <input
                    class="form-check-input"
                    name="labels"
                    type="checkbox"
                    value="<%= label %>"
                    id="<%=label%>"
                  />
                  <label class="form-check-label" for="<%=label%>">
                    <%=label%> </label
                  ><br />
                  <% }) %>
                </div>
              </div>
              <div class="row mb-3" style="margin: auto;">
                <label for="authorlabel" class="col-sm-4 col-form-label"
                  >Author</label
                >
                <div class="col-sm-8">
                  <input
                    class="form-check-input"
                    name="author"
                    type="radio"
                    checked="checked"
                    value=""
                    id="null"
                  />
                  <label class="form-check-label" for="null">None</label><br />
                  <% project.issues.forEach(issue => { %>
                  <input
                    class="form-check-input"
                    name="author"
                    type="radio"
                    value="<%= issue.author %>"
                    id="<%= issue.author %>"
                  />
                  <label class="form-check-label" for="<%= issue.author %>">
                    <%= issue.author %></label>
                    <br />
                  <% }) %>
                </div>
              </div>
  
              <div class="modal-footer">
                <button
                  type="submit"
                  data-bs-dismiss="modal"
                  class="btn btn-primary"
                >
                  Apply Filters
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>


  </div>
  <% } %>
  

<div class="card w-100 mb-5" style="width: 15rem" id="issuesRecord"></div>

<div id="issueDetails" details="<%=JSON.stringify(project.issues)%>"></div>
<script src="/js/filterByIssues.js"></script>
<script src="/js/searchByIssues.js"></script>
